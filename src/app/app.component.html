<button *ngIf="!isLoggedIn" class="login" (click)="login()">Login to Google</button>

<div *ngIf="isLoggedIn">
  <h1>Select a photo to begin the process</h1>
  <input type="file" (change)="classify($event)" accept="image/*" />

  <img src="{{journalImage}}"/>
  <h2 *ngIf="processing">Processing...</h2>
  <div *ngIf="journalPlate?.length">
    <h2>Journal Entry</h2>
    <select [value]="journalTime">
      <option value="2">Breakfast</option>
      <option value="3">Lunch</option>
      <option value="4">Dinner</option>
      <option value="5">Snack</option>
    </select>
    <br>
    <strong>{{journalCalories}} Calories</strong>
    <br>
    <ul>
      <li *ngFor="let p of journalPlate; index as i" (click)="adjustFood(i)">
        {{p.portionNum}} {{p.portion}}
        &emsp;
        <strong>{{p.foodKey}}</strong>
      </li>
    </ul>
    <button (click)="addJournal()" [disabled]="processing">
      Bon Apetit!
    </button>
  </div>
</div>

<dialog #foodpicker>
  <h1>Change food entry</h1>
  <input type="number" min="1" [(ngModel)]="adjustFoodSize" /><br>
  <button (click)="dismiss()">Close</button>
  <ul *ngIf="journalUsda.length">
    <li *ngFor="let f of journalUsda[adjustFoodIndex].foods; index as i" (click)="updateAdjustFood(f, i)">
      {{f.description}}
    </li>
  </ul>
</dialog>

<small>v2024.03.14</small>